app-id: org.hikounomizu.HikouNoMizu
runtime: org.freedesktop.Platform
runtime-version: '21.08'
sdk: org.freedesktop.Sdk
command: hikounomizu
finish-args:
    - '--device=all'
    - '--share=ipc'
    - '--socket=x11'
    - '--socket=pulseaudio'
    - '--persist=.hikounomizu'
cleanup:
    - /include
    - '*.la'
    - '*.a'
modules:
    - 'shared-modules/glu/glu-9.json'

    - name: pugixml
      buildsystem: cmake
      sources:
          - type: archive
            url: https://github.com/zeux/pugixml/releases/download/v1.12/pugixml-1.12.tar.gz
            sha256: fd6922a4448ec2f3eb9db415d10a49660e5d84ce20ce66b8a07e72ffc84270a7

    - name: hikounomizu
      buildsystem: cmake
      post-install:
          - 'install -Dm644 org.hikounomizu.HikouNoMizu.svg /app/share/icons/hicolor/scalable/apps/org.hikounomizu.HikouNoMizu.svg'
          - 'install -Dm644 org.hikounomizu.HikouNoMizu.desktop /app/share/applications/org.hikounomizu.HikouNoMizu.desktop'
          - 'install -Dm644 org.hikounomizu.HikouNoMizu.metainfo.xml /app/share/metainfo/org.hikounomizu.HikouNoMizu.metainfo.xml'

      sources:
          - type: archive
            url: https://download.tuxfamily.org/hnm/0.9.2/hikounomizu-0.9.2-src-withdata.tar.bz2
            sha256: 59a97e532f2151193984a01761604971ef2cb8234ea7040e1dc36f9ee715bc39

          - type: file
            path: org.hikounomizu.HikouNoMizu.svg

          - type: file
            path: org.hikounomizu.HikouNoMizu.desktop

          - type: file
            path: org.hikounomizu.HikouNoMizu.metainfo.xml
