app-id: org.hikounomizu.HikouNoMizu
runtime: org.freedesktop.Platform
runtime-version: '21.08'
sdk: org.freedesktop.Sdk
command: hikounomizu
finish-args:
    - '--device=all'
    - '--share=ipc'
    - '--socket=x11'
    - '--socket=pulseaudio'
    - '--persist=.hikounomizu'
cleanup:
    - /include
    - '*.la'
    - '*.a'
modules:
    - 'shared-modules/glu/glu-9.json'
    - name: tinyxml
      sources:
          - type: archive
            url: http://mirrors.kodi.tv/build-deps/sources/tinyxml-2.6.2_2.tar.gz
            sha256: 8164c9ad48b9028667768a584d62f7760cfbfb90d0dd6214ad174403058da10c
          - type: script
            dest-filename: autogen.sh
            commands:
                - 'autoreconf -vfi'

    - name: hikounomizu
      buildsystem: cmake
      post-install:
          - 'install -Dm644 org.hikounomizu.HikouNoMizu.svg /app/share/icons/hicolor/scalable/apps/org.hikounomizu.HikouNoMizu.svg'
          - 'install -Dm644 org.hikounomizu.HikouNoMizu.desktop /app/share/applications/org.hikounomizu.HikouNoMizu.desktop'
          - 'install -Dm644 org.hikounomizu.HikouNoMizu.metainfo.xml /app/share/metainfo/org.hikounomizu.HikouNoMizu.metainfo.xml'

      sources:
          - type: archive
            url: https://download.tuxfamily.org/hnm/0.9/hikounomizu-0.9-src-withdata.tar.bz2
            sha256: 4022953df0586b41f15bffbe3ba696a71dde2d00cddcedaa4240c9fd02d27153

          - type: file
            path: org.hikounomizu.HikouNoMizu.svg

          - type: file
            path: org.hikounomizu.HikouNoMizu.desktop

          - type: file
            path: org.hikounomizu.HikouNoMizu.metainfo.xml
